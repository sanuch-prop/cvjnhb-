<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
<title>Восстановление — RideNow</title>
<style>
:root{
  --glass-1: rgba(14,21,26,.55);
  --glass-2: rgba(14,21,26,.35);
  --ink:#f3f7ff; --muted:#c4ceda; --stroke:rgba(255,255,255,.18);
  --accent:#ffb668; --accent-2:#9de9d7;
  --gutter-inline: clamp(14px, 4vw, 24px);
  --gutter-block: 12px;
  --font:15px; --maxw: 640px;
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}
*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  color:var(--ink);
  font:500 var(--font)/1.25 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
  background:
    linear-gradient(180deg, rgba(0,0,0,.65), rgba(0,0,0,.55) 35%, rgba(0,0,0,.45) 60%, rgba(0,0,0,.55)),
    url("image.png") center/cover no-repeat fixed;
  -webkit-text-size-adjust:100%;
  -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
  overflow:auto;
}
.app{
  min-height:100svh;
  display:flex; align-items:center; justify-content:center;
  padding-inline:var(--gutter-inline);
  padding-top:calc(var(--gutter-block) + var(--safe-top));
  padding-bottom:calc(var(--gutter-block) + var(--safe-bottom));
}
body.kbd-open .app{ align-items:flex-start; }

.card{
  width:100%; max-width:var(--maxw);
  border-radius:22px; border:1px solid var(--stroke);
  background:linear-gradient(180deg,var(--glass-1),var(--glass-2));
  box-shadow:0 24px 60px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.25);
  backdrop-filter: blur(16px) saturate(140%);
  padding:12px;
}
.topbar{display:flex; align-items:center; justify-content:space-between; min-height:36px; padding:2px 4px}
.brand{display:flex;align-items:center;gap:8px;font-weight:900;opacity:.95}
.brand .dot{width:8px;height:8px;border-radius:999px;background:#58e0ff;display:inline-block}

.content{display:flex;flex-direction:column;gap:10px}
h1{margin:4px 0 6px;font-size:24px;text-align:center}

.field{margin:6px 0}
.input{
  width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--stroke);
  background:rgba(255,255,255,.08);color:var(--ink);font-weight:700;font-size:16px;outline:none;
}
.input::placeholder{color:rgba(243,247,255,.85)}
.input:focus{box-shadow:0 0 0 2px rgba(255,255,255,.18) inset}

.note{color:var(--muted);text-align:center}

.cta-stick{position:sticky;bottom:calc(var(--safe-bottom) + 12px);z-index:10;padding-top:4px;background:linear-gradient(to top, rgba(11,15,18,.35), rgba(11,15,18,0));border-radius:12px;backdrop-filter:saturate(120%)}
.cta{width:100%;padding:12px 16px;border:none;cursor:pointer;border-radius:14px;font-weight:900;background:linear-gradient(180deg,var(--accent),var(--accent-2));color:#0b0f12;box-shadow:0 10px 22px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.6)}

.alt{margin-top:6px;color:var(--muted);text-align:center}
.alt a{color:#ffd59b;text-decoration:none}

.success{
  display:none;
  border:1px solid var(--stroke);border-radius:12px;padding:10px 12px;margin-top:4px;
  background:linear-gradient(180deg,rgba(255,255,255,.07),rgba(255,255,255,.03));
  color:var(--muted);text-align:center;
}
.success strong{color:#fff}
.actions{display:flex;gap:8px;justify-content:center;margin-top:8px;flex-wrap:wrap}
.btn-sec{padding:8px 12px;border-radius:10px;border:1px solid var(--stroke);background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.03));color:var(--ink);font-weight:800;cursor:pointer}

@media (max-height:640px){
  :root{--font:14px}
  h1{font-size:22px}
  .input{padding:9px 11px}
  .cta{padding:11px 14px}
}
</style>
</head>
<body>
  <main class="app">
    <section class="card" role="dialog" aria-labelledby="title">
      <div class="topbar">
        <div class="brand"><span class="dot"></span><span>RideNow</span></div>
        <div></div>
      </div>

      <form class="content" id="restoreForm" novalidate>
        <h1 id="title">Восстановление пароля</h1>

        <p class="note">Укажите e-mail — отправим ссылку для смены пароля.</p>

        <label class="field" for="email">
          <input id="email" class="input" type="email" placeholder="email@example.com" autocomplete="email" inputmode="email" required>
        </label>

        <div class="cta-stick">
          <button class="cta" type="submit" id="sendBtn">Отправить ссылку</button>
        </div>

        <div class="success" id="successBox" aria-live="polite">
          <div>Письмо отправлено на <strong id="sentTo"></strong>. Проверьте «Входящие» и «Спам».</div>
          <div class="actions">
            <button type="button" class="btn-sec" id="resendBtn" disabled>Отправить ещё раз <span id="t">30</span>s</button>
            <a class="btn-sec" href="index.html">Назад ко входу</a>
          </div>
        </div>

        <p class="alt">Вспомнили пароль? <a href="index.html">Войти</a></p>
      </form>
    </section>
  </main>

<script>
const $=s=>document.querySelector(s);

const form=$('#restoreForm'), email=$('#email'), successBox=$('#successBox'), sentTo=$('#sentTo'), resendBtn=$('#resendBtn'), t=$('#t');
let ticking=null;
form.addEventListener('submit',e=>{
  e.preventDefault();
  if(!email.checkValidity()) { email.reportValidity(); return; }
  sentTo.textContent=email.value.trim();
  successBox.style.display='block';
  startTimer(30);
});
function startTimer(sec){
  clearInterval(ticking);
  resendBtn.disabled=true; let left=sec; t.textContent=left;
  ticking=setInterval(()=>{
    left--; t.textContent=left;
    if(left<=0){ clearInterval(ticking); resendBtn.disabled=false; resendBtn.textContent='Отправить ещё раз'; }
  },1000);
}
resendBtn.addEventListener('click',()=>{ resendBtn.textContent='Отправлено'; startTimer(30); });

/* клавиатура: выравнивание вверх */
addEventListener('focusin',e=>{ if(e.target.matches('input,textarea,[contenteditable="true"]')) document.body.classList.add('kbd-open'); });
addEventListener('focusout',()=>{ setTimeout(()=>{ if(!document.querySelector('input:focus,textarea:focus,[contenteditable="true"]:focus')) document.body.classList.remove('kbd-open'); },50); });
</script>
</body>
</html>
